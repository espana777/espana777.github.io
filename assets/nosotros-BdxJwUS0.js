import{S as v,T as f,V as g,c as l,M as y,d as L,e as x,P as E,W as S,A as b,D as M,a as A,b as W}from"./three.module-ylx_xh4P.js";/* empty css                */import{G as z}from"./GLTFLoader-_ZwCWjOz.js";import{d as m}from"./dispose-AKGI8BeD.js";const a=new v,G=new f;G.load("/textures/oficina2.png",e=>{a.background=e});const c=["/videos/logo.mp4","/videos/superficies.mp4","/videos/pieAnimado.mp4"];let r=0;const n=document.createElement("video");n.src=c[r];n.loop=!1;n.muted=!0;n.playsInline=!0;n.autoplay=!0;const H=new g(n);let P=new l(10,5);const T=new y({map:H,side:L}),d=new x(P,T);d.position.set(-1.2,3,-8);a.add(d);n.addEventListener("loadedmetadata",()=>{const e=n.videoWidth/n.videoHeight,t=9.5,o=t*e;d.geometry.dispose(),d.geometry=new l(o,t)});const i=new E(75,window.innerWidth/window.innerHeight,.1,1e3);i.position.set(0,0,5);const k=document.getElementById("about-canvas"),s=new S({canvas:k,antialias:!0});function p(){const e=document.querySelector(".canvas-container"),t=e.clientWidth,o=e.clientHeight;s.setSize(t,o),i.aspect=t/o,i.updateProjectionMatrix()}p();window.addEventListener("resize",p);a.add(new b(16777215,.6));const w=new M(16777215,10);w.position.set(5,10,7.5);a.add(w);n.addEventListener("ended",()=>{r=(r+1)%c.length,n.src=c[r],n.load(),n.play().catch(e=>console.warn("Error al reproducir siguiente video:",e))});n.play().catch(e=>console.warn("Error al iniciar autoplay:",e));const D=new z,u=[],q=new W;D.load("/models/saludo.glb",e=>{const t=e.scene;if(t.position.set(0,-3.5,0),t.scale.set(2,2,2),a.add(t),e.animations&&e.animations.length>0){const o=new A(t);u.push(o),o.clipAction(e.animations[0]).play()}});function h(){requestAnimationFrame(h);const e=q.getDelta();u.forEach(t=>t.update(e)),s.render(a,i)}h();window.addEventListener("resize",()=>{i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight)});document.querySelectorAll("nav a").forEach(e=>{e.addEventListener("click",()=>{m(a,s)})});window.addEventListener("beforeunload",()=>m(a,s));
