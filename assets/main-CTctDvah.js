import{S as g,P as v,W as L,A as M,D as y,T as S,C as x,a as A,L as E,b as C}from"./three.module-ylx_xh4P.js";/* empty css                */import{G as P}from"./GLTFLoader-_ZwCWjOz.js";import{d as m}from"./dispose-AKGI8BeD.js";const b=new C;let r,t,u=-1;const z=200;let c=!1;const p=200,k=-2e3,o=new g,s=new v(75,window.innerWidth/window.innerHeight,.1,5e3);s.position.set(0,150,500);const q=document.getElementById("three-canvas"),l=new L({canvas:q,antialias:!0});function f(){const e=document.querySelector(".canvas-container"),n=e.clientWidth,i=e.clientHeight;l.setSize(n,i),s.aspect=n/i,s.updateProjectionMatrix()}f();window.addEventListener("resize",f);o.add(new M(16777215,.6));const h=new y(16777215,.8);h.position.set(100,200,100);o.add(h);const T=new S;T.load("/img/pasillo.jpg",e=>{o.background=e});const I=new P;I.load("/models/avatar.glb",e=>{t=e.scene,t.scale.set(400,400,400),t.position.set(0,-400,p),t.traverse(a=>{a.isMesh&&a.material&&(a.material.isMeshStandardMaterial&&(a.material.metalness=0,a.material.roughness=1,a.material.envMap=null,a.material.metalnessMap=null,a.material.roughnessMap=null),a.material.isMeshPhongMaterial&&(a.material.shininess=5,a.material.specular=new x(1118481)))}),o.add(t),r=new A(t);const n=e.animations[0],i=r.clipAction(n);i.setLoop(E),i.play(),t.rotation.y=Math.PI,document.getElementById("loader").style.display="none"},e=>{const n=e.loaded/e.total*100;document.querySelector("#loader p").textContent=`Cargando escena... ${n.toFixed(0)}%`},e=>{console.error("Error al cargar el avatar:",e),document.querySelector("#loader p").textContent="Error al cargar el modelo ðŸ˜¢"});function W(e){!t||c||(t.position.z+=u*z*e,t.position.z<=k&&d(1,0),t.position.z>=p&&d(-1,Math.PI))}function d(e,n){c=!0,setTimeout(()=>{u=e,t.rotation.y=n,c=!1},2e3)}function w(){requestAnimationFrame(w);const e=b.getDelta();r&&r.update(e),W(e),l.render(o,s)}w();document.querySelectorAll("nav a").forEach(e=>{e.addEventListener("click",()=>{m(o,l)})});window.addEventListener("beforeunload",()=>m(o,l));
